<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Unwichtig -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!--Importieren vom CSS -->
    <link rel="stylesheet" href="/css/style.css">


    <!-- Webseiten Titel und FavIcon -->
    <title>ToDo Liste</title>
    <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/2387/2387679.png">
</head>

<body>

    <!-- Preloader -->
    <div id="preloader"></div>

    <script>
        var loader = document.getElementById("preloader");

        function disableLoader() {
            var loader = document.getElementById("preloader");
            loader.style.display = "none";
        }

        setTimeout(function() {
            loader.style.display = "none";
        }, 800);

    </script>

    <!-- Script Einbetten -->
    <script src="/js/script.js"></script>
    
    <!-- ToDo Seite -->
    <div class="dark-mode-toggle" id="darkModeToggle" onclick="darkmode(), toggleEditImageSrc()">
        <center><span class="toggle-icon">&#9728;</span></center>
    </div>
    
    <div class="container">

        <!-- ToDo Listen Titel -->
        <h1>
            <script src="/js/todotitle.js"></script>
            <div id="todo-title">
                ToDo Liste
            </div>
            <img src="/assests/edit-tool.png" height="20px" width="20px" id="edit-name-img" onclick="editTitle()">
        </h1>
    
    <!-- Edit Title Popup -->
    <div id="editTitlePopup" class="popup">
        <div class="popup-content">
            <label for="newTitle">Neuer Listen Name:</label>
            <input type="text" id="newTitle">
            <br>
            <button onclick="applyTitleChanges()" id="acceptTitleBtn">Änderungen übernehmen</button>
            <button onclick="closeTitleEditPopup()" id="cancelTitleBtn">Abbrechen</button>
        </div>
    </div>

        <div id="todo-container">
            <!-- Input Container -->
            <div class="input-container">
                <input type="text" id="todo-input" placeholder="Neues ToDo">
                <input type="date" id="due-date" placeholder="Bis wann">
                <input type="text" id="category" placeholder="Kategorie">
                <div class="dropdown-element">
                    <select name="priority" id="priority" placeholder="Priorität" class="dropdown-menu">
                        <option value="N/A" class="dropdown-content">   </option>
                        <option value="Niedrig" class="dropdown-content">Niedrig</option>
                        <option value="Mittel" class="dropdown-content">Mittel</option>
                        <option value="Hoch" class="dropdown-content">Hoch</option>
                        <option value="Sehr Hoch" class="dropdown-content">Sehr Hoch</option>
                    </select>
                </div>

                <!-- Edit Popout -->
                <div id="editPopup" class="popup">
                    <div class="popup-content">
                        <span class="close" onclick="closeEditPopup()">&times;</span>
                        <label for="newText">ToDo Name:</label>
                        <input type="text" id="newText">
                        <br>
                        <label for="newDueDate">Neues Datum (DD.MM.YYYY):</label>
                        <input type="text" id="newDueDate">
                        <br>
                        <label for="newCategory">Neue Kategorie:</label>
                        <input type="text" id="newCategory">
                        <br>
                        <label for="newPriority">Neue Priorität:</label>
                        <select name="newPriority" id="newPriority" placeholder="Priorität" class="edit-dropdown-menu">
                            <option value="N/A" class="edit-dropdown-content">   </option>
                            <option value="Niedrig" class="edit-dropdown-content">Niedrig</option>
                            <option value="Mittel" class="edit-dropdown-content">Mittel</option>
                            <option value="Hoch" class="edit-dropdown-content">Hoch</option>
                            <option value="Sehr Hoch" class="edit-dropdown-content">Sehr Hoch</option>
                        </select>
                        <br>
                        <button onclick="applyChanges()" id="acceptBtn" >Änderungen übernehmen</button>
                    </div>
                </div>

                <button onclick="addTodo()" class="addBtn">Hinzufügen</button>
            </div>
            <ul id="todo-list"></ul>
    
            <button onclick="downloadTodos()" class="downloadBtn">&#9660 Download &#9660</button>
            <button onclick="deleteAllTodos()" class="delete-all-btn">Delete all</button>
            <button onclick="toggleSortierenDatum()" class="sortierBtn">Datum sortieren</button>

        </div>
        <div id="sort-container">
            <div id="sortieren">
                <label><input type="radio" name="sortOption" value="ascending" onchange="sortierenDatum()"> Sortieren aufsteigend</label><br>
                <label><input type="radio" name="sortOption" value="descending" onchange="sortierenDatum()"> Sortieren absteigend</label><br>
              </div>
        </div>
    </div>

    <button onclick="uploadTodos()" class="loadBtn"> <img id="uploadImg" src="/assests/file-upload.png" height="40px" width="auto"></button>

</body>
</html>
